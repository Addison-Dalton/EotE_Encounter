@model EotE_Encounter.Models.Encounter


<h3>@Model.Name</h3>
<div>
    <form asp-action="CreateCharacter" asp-controller="Character" data-bind="" data-ajax="true" data-ajax-mode="replace" data-ajax-update="#character-container">
        <input id="encounterId" name="encounterId" type="hidden" value="@Model.Id" />
        <button class="btn btn-default" type="submit">Create Character</button>
    </form>
</div>
<hr />
<div>
    <div class="list-group">
        <a id="add-character-item" asp-action="CreateCharacter" asp-controller="Character" asp-route-encounterId="@Model.Id" data-ajax="true" data-ajax-mode="replace" data-ajax-update="#character-container" class="list-group-item"><strong>Add a new character</strong></a>
        @{
            if (Model.Characters != null)
            {
                foreach (Character character in Model.Characters)
                {
                    <div class="list-group-item">
                        <div class="row">
                            <div id="iniative-character-name" class="col-md-11">
                                <a asp-action="Details" asp-controller="Character" asp-route-characterId="@character.Id" data-ajax="true" data-ajax-mode="replace" data-ajax-update="#character-container" class="iniative-item"><h4>@character.Name</h4></a>
                            </div>
                            <div id="iniative-move-arrows" class="col-md-1">
                                <a asp-action="ChangeInitiative" asp-controller="Encounter" asp-route-characterId="@character.Id" asp-route-direction="up" data-ajax="true" data-ajax-mode="replace" data-ajax-update="#encounter-container">
                                    <span class="glyphicon glyphicon-menu-up"></span>
                                </a>
                                <a asp-action="ChangeInitiative" asp-controller="Encounter" asp-route-characterId="@character.Id" asp-route-direction="down" data-ajax="true" data-ajax-mode="replace" data-ajax-update="#encounter-container">
                                    <span class="glyphicon glyphicon-menu-down display-block"></span>
                                </a>
                            </div>
                        </div>
                        
                    </div>
                }
            }
        }
    </div>
</div>
